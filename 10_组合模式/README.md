# 10 - 组合模式 (Composite Pattern)

> **核心思想**: 将对象组合成树形结构以表示“部分-整体”的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性。

## 📚 概念解析

组合模式（Composite Pattern）是一种结构型设计模式，它允许你将对象组合成树形结构，然后像处理单个对象一样处理这些组合。这种模式在需要表示一个对象的“部分-整体”层次结构时特别有用，例如，文件系统中的文件和文件夹，或者图形用户界面中的窗口和控件。

**主要角色**:
- **组件 (Component)**: 声明了组合中对象的接口，实现了所有类共有的接口的默认行为。
- **叶子 (Leaf)**: 在组合中表示叶节点对象，叶子节点没有子节点。
- **组合 (Composite)**: 定义有子部件的那些部件的行为，存储子部件，并在 Component 接口中实现与子部件有关的操作。

## 📂 代码示例

| 文件名                 | 描述                                                           |
| ---------------------- | -------------------------------------------------------------- |
| `01_basic_composite.py`| 一个基础的图形绘制系统，演示了如何统一处理单个图形（如圆形）和图形组。 |
| `02_file_system.py`    | 一个文件系统模拟，将文件（叶子）和文件夹（组合）视为相同的组件。       |
| `03_organization.py`   | 一个企业组织架构，将员工（叶子）和部门（组合）统一处理。           |
| `04_gui_components.py` | 一个GUI组件系统，将按钮、文本框等（叶子）和面板、窗口（组合）统一处理。 |
| `05_real_world_examples.py`| 真实世界的应用，如菜单系统、产品目录等。                       |

## ✅ 优点

- **统一接口**: 客户端代码可以统一处理单个对象和组合对象，无需区分。
- **简化客户端代码**: 客户端不必担心处理的是叶子还是组合。
- **易于添加新组件**: 可以很容易地在组合中添加新的叶子或组合。

## ❌ 缺点

- **设计过于一般化**: 有时你可能希望一个组合只能包含某些特定类型的组件，但在组合模式中，这很难实施。
- **难以限制组合中的组件类型**。

## 🚀 如何运行

```bash
# 运行基础示例
python 10_组合模式/01_basic_composite.py

# 运行文件系统示例
python 10_组合模式/02_file_system.py

# 运行组织架构示例
python 10_组合模式/03_organization.py

# 运行GUI组件示例
python 10_组合模式/04_gui_components.py

# 运行实际应用示例
python 10_组合模式/05_real_world_examples.py
```
