# 17 - 解释器模式 (Interpreter Pattern)

> **核心思想**: 给定一个语言，定义它的文法的一种表示，并定义一个解释器，这个解释器使用该表示来解释语言中的句子。

## 📚 概念解析

解释器模式（Interpreter Pattern）是一种行为设计模式，它用于处理简单的、专门的语言。这种模式实现了一个表达式接口，该接口解释一个特定的上下文。这种模式在需要解析和执行一种语言的语法时非常有用，例如 SQL 查询或正则表达式。

**主要角色**:
- **抽象表达式 (Abstract Expression)**: 声明一个所有具体表达式都需要实现的 `interpret` 方法。
- **终结符表达式 (Terminal Expression)**: 实现了抽象表达式接口，代表语法中的终结符。
- **非终结符表达式 (Non-terminal Expression)**: 实现了抽象表达式接口，代表语法中的非终结符（通常是其他表达式的组合）。
- **上下文 (Context)**: 包含了解释器需要的全局信息。
- **客户端 (Client)**: 构建（或被给定）一个代表特定句子的抽象语法树，并调用 `interpret` 方法。

## 📂 代码示例

| 文件名                        | 描述                                                           |
| ----------------------------- | -------------------------------------------------------------- |
| `01_basic_interpreter.py`     | 一个基础的数学表达式解释器，支持变量和基本的算术运算。         |
| `02_calculator_interpreter.py`| 一个更完整的计算器，包括词法分析器和语法分析器，支持括号和运算优先级。 |
| `03_config_interpreter.py`    | 一个配置文件解释器，可以解析自定义的配置文件格式。             |
| `04_query_interpreter.py`     | 一个简单的查询语言解释器，可以对数据进行过滤和排序。           |
| `05_real_world_examples.py`   | 真实世界的应用，如模板引擎、规则引擎等。                       |

## ✅ 优点

- **易于扩展和修改语法**: 由于语法由类表示，因此可以轻松地更改或扩展语言。
- **实现简单**: 对于简单的语法，实现起来相对直接。

## ❌ 缺点

- **类数量庞大**: 对于复杂的语法，需要定义大量的类，难以维护。
- **性能问题**: 解释器模式的执行效率通常不高，因为它通常涉及到大量的递归调用。

## 🚀 如何运行

```bash
# 运行基础示例
python 17_解释器模式/01_basic_interpreter.py

# 运行计算器解释器示例
python 17_解释器模式/02_calculator_interpreter.py

# 运行配置解释器示例
python 17_解释器模式/03_config_interpreter.py

# 运行查询解释器示例
python 17_解释器模式/04_query_interpreter.py

# 运行实际应用示例
python 17_解释器模式/05_real_world_examples.py
```
