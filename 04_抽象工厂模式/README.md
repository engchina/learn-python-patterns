# 04 - 抽象工厂模式 (Abstract Factory Pattern)

> **核心思想**: 提供一个接口，用于创建一系列相关或相互依赖的对象，而无需指定它们具体的类。

## 📚 概念解析

抽象工厂模式（Abstract Factory Pattern）是所有形式的工厂模式中最为抽象和最具一般性的一种。它围绕一个超级工厂创建其他工厂。这个超级工厂又称为工厂的工厂。这种模式提供了一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。

**主要角色**:
- **抽象工厂 (Abstract Factory)**: 声明了一组用于创建抽象产品的方法。
- **具体工厂 (Concrete Factory)**: 实现了抽象工厂的接口，用于创建具体的产品对象。
- **抽象产品 (Abstract Product)**: 为一类产品对象声明一个接口。
- **具体产品 (Concrete Product)**: 定义了由具体工厂生产的、实现抽象产品接口的对象。
- **客户端 (Client)**: 仅使用抽象工厂和抽象产品的接口。

## 📂 代码示例

| 文件名                             | 描述                                                           |
| ---------------------------------- | -------------------------------------------------------------- |
| `01_basic_abstract_factory.py`     | 一个UI主题系统，演示了如何为不同主题（亮色/暗色）创建一组UI组件。 |
| `02_database_factory.py`           | 一个数据库访问层，为不同数据库创建连接、查询和事务对象。       |
| `03_document_factory.py`           | 一个文档生成器，可以创建不同格式（如PDF, HTML）的文档组件。    |
| `04_game_factory.py`               | 一个游戏开发工厂，为不同主题（科幻/魔幻）创建角色和武器。      |
| `05_gardening_factory.py`          | 一个园艺规划系统，用于创建不同风格（日式/欧式）的植物组合。    |

## ✅ 优点

- **产品族一致性**: 客户端代码可以与同一产品族中的对象无缝协作。
- **隔离具体类**: 客户端通过抽象接口使用产品，与具体实现解耦。
- **易于交换产品族**: 只需要改变具体工厂的实例，就可以改变整个产品族。

## ❌ 缺点

- **难以扩展新的产品种类**: 如果需要向工厂中添加新的产品，则需要修改抽象工厂及其所有子类，这违反了开闭原则。
- **增加了系统的复杂性**: 引入了大量的类和接口，增加了系统的抽象性和理解难度。

## 🚀 如何运行

```bash
# 运行基础示例
python 04_抽象工厂模式/01_basic_abstract_factory.py

# 运行数据库工厂示例
python 04_抽象工厂模式/02_database_factory.py

# 运行文档工厂示例
python 04_抽象工厂模式/03_document_factory.py

# 运行游戏工厂示例
python 04_抽象工厂模式/04_game_factory.py

# 运行园艺工厂示例
python 04_抽象工厂模式/05_gardening_factory.py
```
