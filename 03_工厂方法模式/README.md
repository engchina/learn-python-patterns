# 03 - 工厂方法模式 (Factory Method Pattern)

> **核心思想**: 定义一个用于创建对象的接口，让子类决定实例化哪一个类。工厂方法使一个类的实例化延迟到其子类。

## 📚 概念解析

工厂方法模式（Factory Method Pattern）是一种创建型设计模式，它解决了“简单工厂模式”违反开闭原则的问题。通过引入一个抽象的工厂接口和多个具体的工厂实现，它允许系统在不修改现有工厂类的情况下，轻松地引入新产品。

**主要角色**:
- **抽象产品 (Product)**: 定义了产品对象的通用接口。
- **具体产品 (Concrete Product)**: 实现了抽象产品接口，是工厂创建的目标。
- **抽象工厂 (Creator)**: 声明了工厂方法（`factory_method`），该方法返回一个抽象产品类型的对象。
- **具体工厂 (Concrete Creator)**: 重写工厂方法，以返回一个具体产品的实例。

## 📂 代码示例

| 文件名                        | 描述                                           |
| ----------------------------- | ---------------------------------------------- |
| `01_basic_factory.py`         | 基础的文档处理器，演示了如何为不同文档类型（PDF, Word）创建处理器。 |
| `02_notification_factory.py`  | 一个通知系统，可以创建不同类型的通知（邮件，短信）。 |
| `03_database_factory.py`      | 为不同的数据库（MySQL, PostgreSQL）创建连接。   |
| `04_ui_factory.py`            | 为不同的UI主题（亮色，暗色）创建UI组件。        |
| `05_real_world_examples.py`   | 真实世界中的应用，如日志记录器、数据解析器等。 |

## ✅ 优点

- **开闭原则**: 添加新产品时，只需创建一个新的具体产品类和一个新的具体工厂类，无需修改现有代码。
- **单一职责**: 每个具体工厂只负责创建一个具体产品。
- **解耦**: 客户端代码仅依赖于抽象产品和抽象工厂的接口。

## ❌ 缺点

- **类爆炸**: 每增加一个产品，就需要增加一个具体产品类和一个具体工厂类，导致系统中的类数量成倍增加。
- **增加了系统的抽象性和理解难度**。

## 🚀 如何运行

```bash
# 运行基础示例
python 03_工厂方法模式/01_basic_factory.py

# 运行通知工厂示例
python 03_工厂方法模式/02_notification_factory.py

# 运行数据库工厂示例
python 03_工厂方法模式/03_database_factory.py

# 运行UI工厂示例
python 03_工厂方法模式/04_ui_factory.py

# 运行实际应用示例
python 03_工厂方法模式/05_real_world_examples.py
```
