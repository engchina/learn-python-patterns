# 19 - 中介者模式 (Mediator Pattern)

> **核心思想**: 用一个中介对象来封装一系列的对象交互。中介者使各个对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。

## 📚 概念解析

中介者模式（Mediator Pattern）是一种行为设计模式，它通过提供一个统一的接口让系统的不同部分进行通信，从而减少这些部分之间的直接依赖。这种模式限制了对象之间的直接通信，迫使它们只能通过中介者对象进行协作。

**主要角色**:
- **中介者 (Mediator)**: 定义了一个接口，用于与各个同事对象通信。
- **具体中介者 (Concrete Mediator)**: 实现了中介者接口，通过协调各个同事对象来实现协作。
- **同事类 (Colleague)**: 定义了每个同事类的接口，它知道其中介者对象，并与其他同事通信时，通过其中介者对象进行。

## 📂 代码示例

| 文件名                     | 描述                                                           |
| -------------------------- | -------------------------------------------------------------- |
| `01_basic_mediator.py`     | 一个智能家居系统，其中央控制器（中介者）协调灯光、空调、窗帘等设备（同事）的工作。 |
| `02_chat_system.py`        | 一个聊天室（中介者），负责在多个用户（同事）之间转发消息。     |
| `03_gui_mediator.py`       | 一个GUI对话框（中介者），管理其中各种控件（如按钮、复选框）之间的复杂交互。 |
| `04_workflow_mediator.py`  | 一个工作流引擎（中介者），协调不同任务节点（同事）的执行顺序和条件。 |
| `05_event_bus.py`          | 一个事件总线（中介者），允许系统中的不同组件在不知道彼此的情况下进行通信。 |
| `06_real_world_examples.py`| 真实世界的应用，如空中交通管制系统。                           |

## ✅ 优点

- **降低了耦合**: 将对象之间网状的依赖关系变成了星状的，减少了对象之间的依赖。
- **集中控制**: 将复杂的交互逻辑集中到一个中介者对象中，使得交互逻辑更容易管理和维护。
- **提高了对象的可复用性**: 同事对象因为被解耦，所以更容易被复用。

## ❌ 缺点

- **中介者可能变得过于复杂**: 如果系统中的对象交互非常复杂，中介者对象可能会变得非常庞大和难以维护。

## 🚀 如何运行

```bash
# 运行基础示例
python 19_中介者模式/01_basic_mediator.py

# 运行聊天系统示例
python 19_中介者模式/02_chat_system.py

# 运行GUI中介者示例
python 19_中介者模式/03_gui_mediator.py

# 运行工作流中介者示例
python 19_中介者模式/04_workflow_mediator.py

# 运行事件总线示例
python 19_中介者模式/05_event_bus.py

# 运行实际应用示例
python 19_中介者模式/06_real_world_examples.py
```
